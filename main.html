<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Add styles here */
    body {
      font-family: Arial, sans-serif;
    }

    .tools {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .tool {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      cursor: pointer;
    }

    .spinner-border {
      width: 20px;
      height: 20px;
      border: 3px solid #333;
      border-top: 3px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .status-item {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
    }

    .controls {
      display: flex;
      gap: 10px;
      align-items: center;
      padding: 20px;
    }

    .progress {
      width: 100%;
      height: 10px;
      background-color: #ccc;
      border-radius: 5px;
      overflow: hidden;
    }

    .progress-fill {
      width: 0%;
      height: 100%;
      background-color: #4CAF50;
    }

    .time {
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="tools">
    <div class="tool">
      <div class="status-item">
        <i class="fas fa-bolt"></i>
        <span id="battery" style="font-weight: bold;">--%</span>
        <div style="width: 20px; height: 10px; background-color: #ccc; border-radius: 5px; overflow: hidden;">
          <div id="battery-level" style="width: 0%; height: 100%; background-color: #4CAF50;"></div>
        </div>
      </div>
    </div>
    <div class="tool">
      <div class="status-item">
        <i class="fas fa-wifi"></i>
        <span id="ip" style="font-weight: bold;">Loading...</span>
        <div style="width: 20px; height: 10px; background-color: #ccc; border-radius: 5px; overflow: hidden;">
          <div id="wifi-level" style="width: 100%; height: 100%; background-color: #4CAF50;"></div>
        </div>
      </div>
    </div>
    <div class="tool" onclick="window.open('/qr')">
      <i class="fas fa-qrcode"></i>
      <h3>QR CODE</h3>
      <p class="muted">Scan the QR code</p>
    </div>
    <div class="tool" onclick="window.open('/pair')">
      <div class="spinner-border" role="status" style="margin-bottom: 10px;"></div>
      <i class="fas fa-link"></i>
      <h3>PAIR CODE</h3>
      <p class="muted">Connect to WhatsApp</p>
    </div>
  </div>

  <div class="controls">
    <button id="rewind-btn" onclick="rewindAudio('audio1')" style="background-color: #4CAF50; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
      <i class="fas fa-fast-backward"></i> REWIND
    </button>
    <button id="play-pause-btn" onclick="togglePlay('audio1')" style="background-color: #4CAF50; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
      <i class="fas fa-play"></i> PLAY
    </button>
    <button id="fast-forward-btn" onclick="fastForwardAudio('audio1')" style="background-color: #4CAF50; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
      <i class="fas fa-fast-forward"></i> FAST FORWARD
    </button>
  </div>
  <div class="progress">
    <div class="progress-fill" id="progress1"></div>
  </div>
  <span class="time" id="time1">0:00</span>
  <span class="time" id="duration1">0:00</span>
  <audio id="audio1" src="https://files.catbox.moe/7e37rk.mp3"></audio>

  <strong>ðŸ“”</strong>
  <div class="muted">Njabulo Jb </div>

  <script>
    // Battery API
    const updateBattery = async () => {
      if (navigator.getBattery) {
        try {
          const battery = await navigator.getBattery();
          const setBattery = () => {
            const batteryPercent = Math.round(battery.level * 100);
            document.getElementById('battery').innerText = `${batteryPercent}%`;
            document.getElementById('battery-level').style.width = `${batteryPercent}%`;
          };
          battery.addEventListener('levelchange', setBattery);
          setBattery();
        } catch (error) {
          console.error('Battery API error:', error);
        }
      }
    }

    // IP API
    const fetchIP = async () => {
      try {
        const res = await fetch('https://api.ipify.org?format=json');
        const data = await res.json();
        document.getElementById('ip').innerText = `${data.ip}`;
      } catch {
        document.getElementById('ip').innerText = 'Offline';
      }
    }

    // Audio player
    let audio = document.getElementById('audio1');
    let playPauseBtn = document.getElementById('play-pause-btn');
    let progressFill = document.getElementById('progress1');
    let timeSpan = document.getElementById('time1');
    let durationSpan = document.getElementById('duration1');

    audio.addEventListener('loadedmetadata', () => {
      durationSpan.innerText = formatTime(audio.duration);
    });

    audio.addEventListener('timeupdate', () => {
      let progress = (audio.currentTime / audio.duration) * 100;
      progressFill.style.width = `${progress}%`;
      timeSpan.innerText = formatTime(audio.currentTime);
    });

    function formatTime(time) {
      let minutes = Math.floor(time / 60);
      let seconds = Math.floor(time % 60);
      return `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }

    function togglePlay(audioId) {
      let audio = document.getElementById(audioId);
      if (audio.paused) {
        audio.play();
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i> PAUSE';
      } else {
        audio.pause();
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i> PLAY';
      }
    }

    function rewindAudio(audioId) {
      let audio = document.getElementById(audioId);
      audio.currentTime -= 10;
    }

    function fastForwardAudio(audioId) {
      let audio = document.getElementById(audioId);
      audio.currentTime += 10;
    }

    updateBattery();
    fetchIP();
  </script>
</body>
        </html>
